@inject CNHSystemService _sys
<head>
 <link rel="stylesheet" href="css/TopBar.css">
</head>

<div class="TOPBARCONTAINER">
 <div id="TopBarLeft"><TopBarContextMenu/></div>
 <div id="TopBarCenter">@_sys.sysInfo?.Name</div>
 <div id="TopBarRight">@_sys.CURRENTSESSION?.firstName @_sys.CURRENTSESSION?.lastName <span class="Weak">(@_sys.CURRENTSESSION?.username)</span></div>
</div>

@code {
 protected override async Task OnInitializedAsync()
 {
  _sys.WindowsChanged += (object? caller, EventArgs ea) =>
  {
   StateHasChanged();
  };
 }
}
